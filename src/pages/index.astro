---
import BaseHead from '../components/BaseHead.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import { getCollection } from 'astro:content';
import FormattedDate from '../components/FormattedDate.astro';

const posts = (await getCollection('blog')).sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

---

<!doctype html>
<html lang="en">
    <head>
        <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
        <style>
            body {
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                min-height: 100vh;
                margin: 0;
                background-color: #FFFFFF; /* 背景色を白に変更 */
            }
            img {
                max-width: 300px; /* ロゴの最大幅を設定 */
                max-height: 200px; /* ロゴの最大高さを設定 */
                width: auto;
                height: auto;
            }
            .blog-list {
                margin-top: 20px;
                text-align: center;
            }
            .blog-list ul {
                list-style: none;
                padding: 0;
            }
            .blog-list li {
                margin: 5px 0;
            }
            .blog-list a {
                text-decoration: none;
                color: #007BFF;
            }
            .blog-list a:hover {
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <img src="/images/logo.png" alt="合同会社ふふむのロゴ" />
        <section class="blog-list">
            <h2>お知らせ</h2>
            <ul>
                {posts.map(post => (
                    <li>
                        <a href={`/blog/${post.id}/`}>
                            <h4 class="title">{post.data.title}</h4>
                            <p class="date">
                                <FormattedDate date={post.data.pubDate} />
                            </p>
                        </a>
                    </li>
                ))}
            </ul>
        </section>
    </body>
</html>
